%import common.INT

%ignore " "
%ignore "\n"

start: compile_cmd (run_cmd)?

ARG: /[-\w]+/  // Doesn't match ;

expect_status: "EXPECT" INT
expect_msg: "EXPECT" (/OUT/ | /ERR/) /([^@].*\n?)+/
compile_cmd: "@COMPILE" ARG* [";" expect_status] [";" expect_msg]
run_cmd: "@RUN" [";" expect_status] [";" expect_msg]
